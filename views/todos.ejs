<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To Do App</title>
    <link rel="stylesheet" href="css/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    
    <style type="text/css">
        body {
            background-image: url("img/mountains.jpg");
            min-height: 100vh;
            background-position: center;
            background-size: cover;
            background-repeat: no-repeat;
            font-size: 1.5rem;
        }
        .hero{
            background-color: rgba(3,3,3,0.5);
            min-height:100vh;
            min-width: 100vw;
            top: 0;
            bottom:0;
            position:absolute;
        }
        h1 { 
            margin-top: 1rem;
            margin-bottom: 0px;
        }
        ul {
            list-style: none;
            margin-top: 1rem;
            border-top: 3px solid white;
        }
        li {
            border-bottom: 1px solid white;
            padding-top: 1rem;
            padding bottom:1rem;
        }
        .del{
            float: right;   
        }
        
    </style>
</head>
<body>
    <div class="hero">
        <div class="container">
            <h1 class="text-center display-1">TodoList</h1>
            <p class="lead text-center">Let's keep your tasks organized!</p>
            <form action="/todos/createTodo" method='POST' class="col-8 mx-auto">
                <div class="input-group">
                    <input type="text" class="form-control" name="todoItem" aria-describedby="emailHelp" placeholder="What needs to be completed?"><span><button type="submit" class="btn btn-primary">Submit</button></span> 
                </div>
            </form>
        <ul class="col-8 mx-auto">
        <% todos.forEach( el => { %>
            <li class='todoItem' data-id='<%=el._id%>'>
                <span class='<%= el.completed === true ? 'completed' : 'not'%>'><%= el.todo %></span>
                <button type="button" class="btn btn-danger del">Delete</button>
            </li>
        <% }) %>    
        </ul>

        <h2 class='col-8 mx-auto'><%= user.displayName %> has <%= left %> things left to do.</h2>


        <a href="../auth/logout" class="btn btn-primary">Logout</a>
        </div>
    </div>

   

    <script src="js/main.js"></script>
</body>
</html>